---
title: "I made a simple agent for PR reviews. Don't use it."
desc: "Reviewbot is eternal, yet also very cooked."
date: 2026-01-11
# hero:
#   ai: ""
#   file: ""
#   prompt: ""
#   social: false
---

- I made a small AI agent to do code reviews in my personal repos using a model hosted on my desk
  - It's powered by a DGX Spark, llama.cpp, and GPT-OSS 120b.
  - It uses about 70 watts of power during each run, with each run taking upwards of two minutes in the absolute worst case.

My coworkers really like AI powered code review tools and it seems that every time I make a pull request in one of their repos I learn about yet another AI code review SaaS product. Given that there are so many of them, I decided to see how easy it would be to develop my own AI powered code review bot that targets GitHub repositories. I managed to hack out the core of it in a single afternoon using a model that runs on my desk. I've ended up with a little tool I call [reviewbot](https://github.com/Xe/x/tree/master/cmd/reviewbot) that takes GitHub pull request information and submits code reviews in response.

reviewbot is powered by a [DGX Spark](/blog/2025/dgx-spark-first-look/), [llama.cpp](https://github.com/ggml-org/llama.cpp), and OpenAI's [GPT-OSS 120b](https://openai.com/index/introducing-gpt-oss/). The AI model runs on my desk with a machine that pulls less power doing AI inference than my gaming tower pulls running fairly lightweight 3d games. In testing I've found that nearly all runs of reviewbot take less than two minutes, even at a rate of only 60 tokens per second generated by the DGX Spark.

- Design considerations of the agent:
  - Lightweight: it should take up so few resources that I don't have to care
  - Distributed as a Docker image: 0 install required
  - GitHub Actions-native: Focus on making it easy to use with GitHub actions and nothing else to make life simpler
  - Use any OpenAI compatible endpoint you want: Use llama.cpp, Ollama, OpenRouter, what do I care?

It's about 350 lines of Go that just feeds pull request information into the context window of the model and provides a few tools for actions like "leave pull request review" and "read contents of file". I'm considering adding other actions like "read messages in thread" or "read contents of issue", but I haven't needed them yet.

To make my life easier, I distribute it as [a Docker image](https://github.com/Xe/x/pkgs/container/x%2Freviewbot) that [gets run in GitHub Actions](https://github.com/Xe/x/blob/master/cmd/reviewbot/actions/reviewbot-manually-invoked.yaml) whenever a pull review comment includes the magic phrase `/reviewbot`.

- How it works:
  - Checks out a copy of the repo into an in-memory Go filesystem
  - Gets fed information about the pull request via a template:
    - Files changed and patches
    - Commits and commit messages
    - Pull request information including the PR body text
    - The contents of AGENTS.md if it exists in the repo
  - Submits a GitHub review based on what the AI model determines.
- How to set it up
  - GitHub Actions for comments with `/reviewbot` in them.
  - May make the comment body part of the prompt in the future.
- You probably shouldn't use this agent.
  - Doesn't work with closed source repos yet.
  - Will probably crash if any of the data doesn't match what I found was the case in testing.
  - It's like 300 lines of Go, write an agent for yourself at that point lol
